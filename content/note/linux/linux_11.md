---
author: "li_mingxie"
title: "【linux笔记】linux入门简介_进程管理以及定时任务(11)"
date: 2022-07-27T23:28:49+08:00
tags: [
    "linux",
]
categories: [
    "linux"
]
---

这一篇整理了进程管理相关的内容。<!--more-->  

## 1.ps 查看当前系统进程状态

```bash
#查看系统中所有进程
ps aux | grep xxx 

#可以查看子父进程之间的关系
ps -ef | grep xxx
```

* a 列出带有终端的所有用户的进程
* x 列出当前用户的所有进程，包括没有终端的进程
* u 面向用户友好的显示风格
* -e 列出所有进程
* -u 列出某个用户关联的所有进程
* -f 显示完整格式的进程列表

#### ps aux 显示信息

* USER:该进程是由哪个用户产生的
* PID:进程的 ID 号
* %CPU:该进程占用 CPU 资源的百分比，占用越高，进程越耗费资源;
* %MEM:该进程占用物理内存的百分比，占用越高，进程越耗费资源;
* VSZ:该进程占用虚拟内存的大小，单位 KB;
* RSS:该进程占用实际物理内存的大小，单位 KB;
* TTY:该进程是在哪个终端中运行的。对于 CentOS 来说，tty1 是图形化终端， tty2-tty6 是本地的字符界面终端。pts/0-255 代表虚拟终端。
* STAT:进程状态。常见的状态有:R:运行状态、S:睡眠状态、T:暂停状态、Z:僵尸状态、s:包含子进程、l:多线程、+:前台显示
* START:该进程的启动时间
* TIME:该进程占用 CPU 的运算时间，注意不是系统时间
* COMMAND:产生此进程的命令名

#### ps -ef 显示信息

* UID:用户 ID
* PID:进程 ID
* PPID:父进程 ID
* C:CPU 用于计算执行优先级的因子。数值越大，表明进程是 CPU 密集型运算， 执行优先级会降低;数值越小，表明进程是 I/O 密集型运算，执行优先级会提高
* STIME:进程启动的时间
* TTY:完整的终端名称
* TIME:CPU 时间
* CMD:启动进程所用的命令和参数

```
想查看进程的 CPU 占用率和内存占用率，可以使用 aux;  
想查看进程的父进程 ID 可以使用 ef;
```

## 2.kill 终止进程

```bash
#通过进程号杀死进程
kill [选项]进程号 

#通过进程名称杀死进程，也支持通配符，这 在系统因负载过大而变得很慢时很有用
killall 进程名称
```

* -9 表示强迫进程立即停止

## 3.pstree 查看进程树

```bash
pstree [选项]
```

* -p 显示进程的 PID
* -u 显示进程的所属用户

## 4.top 实时监控系统进程状态

```bash
top [选项]
```

* -d 秒数 指定 top 命令每隔几秒更新。默认是 3 秒在 top 命令的交互模式当中可以执行的命令
* -i 使 top 不显示任何闲置或者僵死进程。
* -p 通过指定监控进程 ID 来仅仅监控某个进程的状态。

* P 以 CPU 使用率排序，默认就是此项
* M 以内存的使用率排序
* N 以PID排序
* q 退出top

## 5.netstat 显示网络状态和端口占用信息

```bash
#查看该进程网络信息
netstat -anp | grep 进程号 
#查看网络端口号占用情况
netstat –nlp | grep 端口号
```

* -a 显示所有正在监听(listen)和未监听的套接字(socket)
* -n 拒绝显示别名，能显示数字的全部转化成数字
* -l 仅列出在监听的服务状态
* -p 表示显示哪个进程在调用

## 6.crontab 系统定时任务

```bash
crontab [选项]

#重新启动 crond 服务
systemctl restart crond
```

* -e 编辑 crontab 定时任务
* -l 查询 crontab 任务
* -r 删除当前用户所有的 crontab 任务

* 第一个“*”  一小时当中的第几分钟
* 第二个“*”  一天当中的第几小时
* 第三个“*”  一个月当中的第几天
* 第四个“*”  一年当中的第几月
* 第五个“*”  一周当中的星期几

----------------------------------------------

欢迎大家的意见和交流

`email: li_mingxie@163.com`
