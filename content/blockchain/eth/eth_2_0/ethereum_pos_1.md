---
author: "li_mingxie"
title: "【区块链】以太坊2.0权益证明_共识(01)"
date: 2099-12-17T23:28:49+08:00
tags: [
    "区块链",
    "blockchain",
    "ETH",
    "ethereum",
    "white paper",
]
categories: [
    "eth",
    "blockchain",
]
---

有关以太坊的权益证明，官网的文档几乎都是叙述性的翻译。  
而且没有系统性的归纳，想了解也只能看那些英文的白皮书，超级痛苦。  
我顺便整理了一下为了后续方便参考和回顾内容。  <!--more-->  

官网文档地址：  
中文版： https://ethereum.org/zh/developers/docs/consensus-mechanisms/pos/  
英文版： https://ethereum.org/en/developers/docs/consensus-mechanisms/pos/  

说起权益证明之前，我们先需要了解共识机制。  

## 1 什么是共识？

共识说白了就是，一群人在一起，达成一致的意见。  
比如，一群人去看电影，如果他们“看某部电影”没有任何异议，就可以说达成共识了。  
如果存在异议，他们必须通过某种方法(投票)决定看哪一部电影。  
在极端情况下，这群人会分开(分叉)。

在区块链领域，共识的意义是在一个区块链网络中，所有节点都能看到相同的区块链状态。  
在以太坊达成共识的过程是标准化的，共识意味着全网络中至少66%的节点状态达成一致。  

## 2 什么是共识机制？

共识机制是一整套由协议、激励和想法构成的`体系`，使得整个区块链网络节点的状态达成一致。  
大部分区块链的共识机制是用工作量证明(POW)或是权益证明(POS)来实现的。  

### 工作量证明(POW)

比特币采用的是工作量证明，其原理是每个节点都算hash值。  
根据难度，能算出满足该难度的节点抢先出块，获得奖励。  
其实就是不停的换区块的nonce值，看算出来的区块hash值的前面有几个0，难度越高需要的0越多。  

### 权益证明(POS)

> 2022年9月15日以太坊合并完成，主网与PoS共识层信标链（Beacon链）结合。  
> 将此前PoW工作量证明机制转变为PoS权益证明机制，以太坊正式进入2.0时代。  

权益证明是一种新的共识机制，它是基于权益的概念。  
其原理是根据其在网络中的权益(质押的ETH数量)，  
通过随机抽样算法(RANDAO)选择一个验证者成为区块提议者出块。  
然后验证者验证模块的有效性，最终达成一致。  
这期间是需要有一系列协议保证链的安全性和准确性。  

## 3.信标链Beacon Chain

> Beacon Chain 是一条独立的链。

**上面说的合并不是把两条链合并成一条链。**  
**而是二条链一起跑，形成一个新的区块链网络。**  

原来以太坊1.0的链叫 Main Chain。  
据说后续这个Main Chain 也会成为广大Shared Chain中的一员。  
 
[图片备用地址](https://limingxie.github.io/images/blockchain/eth_2_0/beacon_chain.png)
![beacon_chain](https://mingxie-blog.oss-cn-beijing.aliyuncs.com/image/blockchain/eth_2_0/beacon_chain.png)

**信标链(Beacon Chain)** 是2020年推出的原始权益证明区块链的名称。  
它与原有的工作量证明 **以太坊(Main Chain)一起运行**。  

原有的以太坊客户端停止挖矿、区块传播及旧的共识逻辑，并将这一切转交给信标链。  
这一事件称为合并。在合并发生后，每个节点需要两个不同的客户端。  
`信标链是共识层`，一个处理区块消息和共识逻辑的共识客户端的点对点网络，  
`原始客户端形成执行层`，负责传播消息和执行交易，以及管理以太坊的状态。  
这两层可以使用引擎应用程序接口相互通信。

信标链(Beacon Chain)不处理交易或智能合约交互。  
只负责处理区块和证明、运行分叉选择算法以及管理奖励和惩罚等。  

下一篇文章继续详细的介绍信标链相关的内容。  
[【区块链】以太坊2.0权益证明_信标链(02)](https://limingxie.github.io/blockchain/eth/eth_2_0/ethereum_pos_2/)

----------------------------------------------
欢迎大家的意见和交流

`email: li_mingxie@163.com`
